<mat-card>
    <mat-card-title>{{'navBar.orderDetail'| translate}}</mat-card-title>
    <mat-card-content>
        <form [formGroup]="form">
            <fieldset [disabled]="true"  class="order-form-container" >
                <div class="order-form-field">
                    <h3>{{'orderTableHeadSap.0.item' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'orderTableHeadSap.0.item' | translate}}" formControlName="recipeRowID">                      
                    </mat-form-field>
                </div>
                <div class="order-form-field">
                    <h3>{{'orderTableHeadSap.5.item' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'orderTableHeadSap.5.item' | translate}}" value="{{ order?.dueDate | date : 'd.M.y' : 'UTC' }}">                                          
                    </mat-form-field>
                </div>
                <div class="order-form-field">
                    <h3>{{'orderTableHeadSap.1.item' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'orderTableHeadSap.1.item' | translate}}" formControlName="orderID">                      
                    </mat-form-field>
                </div>
                <div class="order-form-field">
                    <h3>{{'orderTableHeadSap.2.item' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'orderTableHeadSap.2.item' | translate}}" formControlName="segmentRequirementID">                      
                    </mat-form-field>
                </div>
                <div class="order-form-field">
                    <h3>{{'orderTableHeadSap.3.item' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'orderTableHeadSap.3.item' | translate}}" formControlName="productID">                      
                    </mat-form-field>
                </div>
                <div class="order-form-field">
                    <h3>{{'orderTableHeadSap.4.item' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'orderTableHeadSap.4.item' | translate}}" formControlName="productName">                      
                    </mat-form-field>
                </div>
                <div class="order-form-field">
                    <h3>{{'recipeSAP.quantity' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'orderTableHeadSap.5.item' | translate}}" formControlName="quantity" type="number" min="1">
                      <span matSuffix>{{order?.unitOfMeasure}}</span>                      
                    </mat-form-field>
                </div>
                <div class="order-form-field">
                    <h3>{{'orderTableHeadSap.6.item' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'orderTableHeadSap.6.item' | translate}}" value="{{ order?.timeStampWrite | date : 'd.M.y, HH:mm:ss' : 'UTC' }}">                 
                    </mat-form-field>
                </div>
                <div class="order-form-field">
                    <h3>{{'recipeSAP.status' | translate}}</h3>
                    <mat-form-field appearance="outline">
                      <input matInput placeholder="{{'recipeSAP.status' | translate}}" value="{{ order?.status }}">                                        
                    </mat-form-field>
                </div>
              </fieldset>
              <fieldset  class="order-form-container" >
            <!-- <table mat-table matSort [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8">
            <td mat-cell *matCellDef="let element" > -->
            <div style="flex-direction: row; flex: 1 0 30%" *ngIf="components" [@grow]> 
                <mat-list>
                  <div style="width: 100%; display: flex">
    
                    <h2>{{'navBar.components'| translate}}</h2>
    
    
                  </div>
                  
                  <ng-container *ngFor="
                      let component of components;
                      let i = index;
                    ">
                    <mat-list-item>
                      <div matLine>
                        <div style="width: 100%; display: flex">
    
                          <p style="float: left">
                            <mat-form-field appearance="outline" style="width: 20%" class=" note" [ngClass]="{
                                  gridC: i % 2 > 0
                                }">
                              <mat-label>{{'componentsTableHead.1.item'| translate}}</mat-label>
                              <input matInput placeholder="0000000001" readonly [value]="component.componentRowID" />
                            </mat-form-field>
                            <mat-form-field appearance="outline" style="width: 20%" class=" note" [ngClass]="{
                                  gridC: i % 2 > 0
                                }">
                              <mat-label>{{'componentsTableHead.1.item'| translate}}</mat-label>
                              <input matInput placeholder="0000000001" readonly [value]="component.componentID" />
                            </mat-form-field>
                            <mat-form-field appearance="outline" style="width: 250px" class="note" [ngClass]="{
                                  gridC: i % 2 > 0
                                }">
                              <mat-label>{{'componentsTableHead.2.item'| translate}}</mat-label>
                              <input matInput placeholder="0000000001" readonly [value]="component.nameC" />
                            </mat-form-field>
                            <mat-form-field appearance="outline" style="width: 10%" class="note" [ngClass]="{
                                  gridC: i % 2 > 0
                                }">
                              <mat-label>{{'dialogOrder.quantity'| translate}}</mat-label>
                              <input matInput placeholder="0000000001" readonly
                                [value]="component.sp | number :'1.3-3':'sk'" />
                              <span matSuffix>{{component.unitOfMeasure}}</span>
                            </mat-form-field>
    
                            <mat-form-field appearance="outline" style="width: 12%" class="note" [ngClass]="{
                                  gridC: i % 2 > 0
                                }">
                              <mat-label>{{'componentsTableHead.3.item'| translate}}</mat-label>
                              <input matInput placeholder="0000000001" readonly
                                [value]="component.specificBulkWeight | number :'1.3-3':'sk'" />
                              <span matSuffix>KG/L</span>
                            </mat-form-field>
                            <ng-container formArrayName="packingOrders"  >
                                <mat-form-field [formGroupName]="i"  appearance="outline" style="width: 10%; " class="note"
                                  [ngClass]="{
                                    gridC: i % 2 > 0
                                  }">
                                  <mat-label>{{'dialogOrder.typeOfPacking'| translate}}</mat-label>
                                  <mat-select formControlName="packingType"     >
                                    <mat-option *ngFor="let packingOrder of 'selectPacking'|translate" [value]="packingOrder.value">
                                      {{packingOrder.viewValue}}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </ng-container>
                              <ng-container formArrayName="packingOrders">
                                <mat-form-field [formGroupName]="i"  appearance="outline" style="width: 10%; " class="note"
                                  [ngClass]="{
                                    gridC: i % 2 > 0, hideItem: this.form.value.packingOrders[i].packingType > 0 || this.form.value.packingOrders[i].packingType == null
                                  }">
                                  <mat-label>{{'dialogOrder.packingWeight'| translate}}</mat-label>
                                  <input matInput placeholder="{{'dialogOrder.packingWeight'| translate}}" type="number" min="{{this.form.value.packingOrders[i].packingType == 0 ? 1 :0}}" formControlName="packingWeight">
                                  <span matSuffix>kg</span>
                                </mat-form-field>
                              </ng-container>
                            
                          </p>                      
                        </div>
                      </div>
                    </mat-list-item>
                  </ng-container>
                  
                  
                </mat-list>
              </div> 
              <div class="order-form-field">
                <h3>{{'dialogOrder.mixerID'| translate}}</h3>
                <mat-form-field appearance="outline">
      
                  <mat-select formControlName="idMixer" placeholder="{{'dialogOrder.mixerID'| translate}}" c min="1" max="3" type="number">
                    <mat-option *ngFor="let slecetIdMixer of 'selectIdMixers'|translate" [value]="slecetIdMixer.value">
                      {{slecetIdMixer.viewValue}}
                    </mat-option>
                  </mat-select>
                  
                </mat-form-field>
              </div>
      
              <div class="order-form-field">
                <h3>{{'dialogOrder.mixingTime'| translate}}</h3>
                <mat-form-field appearance="outline">
                  <input matInput placeholder="{{'dialogOrder.mixingTime'| translate}}" type="number" min="1" formControlName="mixingTime">
                  <span matSuffix>min</span>
                </mat-form-field>
              </div>
      
              <div class="order-form-field">
                <h3>{{'dialogOrder.packingMachineID'| translate}}</h3>
                <mat-form-field appearance="outline">
                  <input matInput placeholder="{{'dialogOrder.packingMachineID'| translate}}" formControlName="idPackingMachine" min="1" max="9"
                    type="number">
                  <mat-error *ngIf="idPackingMachine!.invalid">{{'dialogOrder.idPackingMachine'| translate}}</mat-error>
                </mat-form-field>
              </div>
      
              <div class="order-form-field">
                <h3>{{'dialogOrder.emptyingStationID'| translate}}</h3>
                <mat-form-field appearance="outline">
                  <input matInput placeholder="{{'dialogOrder.emptyingStationID'| translate}}" formControlName="idEmptyingStationBag" min="1" max="4"
                    type="number">
                  <mat-error *ngIf="idEmptyingStationBag!.invalid">{{'dialogOrder.idEmptyingStationBag'| translate}}</mat-error>
                </mat-form-field>
              </div>
      
              <div class="order-form-field">
                <h3>{{'dialogOrder.volumePerDose'| translate}}</h3>
                <mat-form-field appearance="outline">
                  <input matInput placeholder="{{'dialogOrder.volumePerDose'| translate}}" type="number" min="50" max="700" formControlName="volumePerDose">
                  <mat-error *ngIf="volumePerDose!.invalid">{{'dialogOrder.invalidVolumePerDose'| translate}}</mat-error>
                  <span matSuffix>L</span>
                </mat-form-field>
              </div>
      
      
              <div class="order-form-field">
                <h3>{{'dialogOrder.package'| translate}}</h3>
                <mat-form-field appearance="outline">
      
                  <mat-select formControlName="package" placeholder="{{'dialogOrder.package'| translate}}" c min="1" max="2" type="number" >
                    <mat-option *ngFor="let slecetPackage of 'selectPackage'|translate" [value]="slecetPackage.value">
                      {{slecetPackage.viewValue}}
                    </mat-option>
                  </mat-select>
                  
                </mat-form-field>
              </div>
      
               <div class="order-form-field">
                <h3>{{'dialogOrder.operator'| translate}}</h3>
                <mat-form-field appearance="outline">
                  <input matInput placeholder="{{'dialogOrder.operator'| translate}}" formControlName="operatorName" readonly>
                </mat-form-field>
              </div> 
            </fieldset>
        </form>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button color="primary" (click)="backToOrder();">
        <mat-icon>arrow_back</mat-icon>
        {{'dialogService.back'| translate}}
      </button>     
  
      <button mat-button (click)="recalculateRecipe()">
        <mat-icon>save</mat-icon>
        {{'dialogService.save'| translate}}
      </button>    
      
    </mat-card-actions>
</mat-card>
